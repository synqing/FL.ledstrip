<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Light Crystals Control</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Light Crystals Control</h1>
            <div class="connection-status">
                <span id="status-indicator" class="disconnected"></span>
                <span id="status-text">Disconnected</span>
            </div>
        </header>

        <main>
            <section class="control-section" id="visual-mode">
                <h2>Visual Mode</h2>
                <div class="mode-buttons">
                    <button class="mode-button" data-mode="0">
                        <div class="mode-preview gradient-preview"></div>
                        <span>Gradient Effect</span>
                    </button>
                    <button class="mode-button" data-mode="1">
                        <div class="mode-preview waves-preview"></div>
                        <span>Color Waves</span>
                    </button>
                    <button class="mode-button" data-mode="2">
                        <div class="mode-preview noise-preview"></div>
                        <span>Noise Smear</span>
                    </button>
                </div>
            </section>

            <section class="control-section" id="parameters">
                <h2>Parameters</h2>
                <div class="slider-container">
                    <label for="brightness">Brightness: <span id="brightness-value">96</span></label>
                    <div class="slider-with-buttons">
                        <button class="decrement">-</button>
                        <input type="range" id="brightness" min="0" max="255" value="96">
                        <button class="increment">+</button>
                    </div>
                </div>

                <div class="slider-container">
                    <label for="fade-amount">Fade Amount: <span id="fade-amount-value">20</span></label>
                    <div class="slider-with-buttons">
                        <button class="decrement">-</button>
                        <input type="range" id="fade-amount" min="0" max="255" value="20">
                        <button class="increment">+</button>
                    </div>
                </div>

                <div class="slider-container">
                    <label for="fps">FPS: <span id="fps-value">120</span></label>
                    <div class="slider-with-buttons">
                        <button class="decrement">-</button>
                        <input type="range" id="fps" min="1" max="120" value="120">
                        <button class="increment">+</button>
                    </div>
                </div>

                <div class="slider-container">
                    <label for="palette-speed">Palette Speed: <span id="palette-speed-value">10</span></label>
                    <div class="slider-with-buttons">
                        <button class="decrement">-</button>
                        <input type="range" id="palette-speed" min="1" max="50" value="10">
                        <button class="increment">+</button>
                    </div>
                </div>
            </section>

            <section class="control-section" id="palettes">
                <h2>Color Palette</h2>
                <div class="current-palette">
                    <span>Current: </span>
                    <span id="palette-name">Loading...</span>
                </div>
                <div class="palette-grid" id="palette-grid">
                    <!-- Palette buttons will be generated by JavaScript -->
                </div>
            </section>

            <section class="control-section" id="presets">
                <h2>Presets</h2>
                <div class="preset-controls">
                    <input type="text" id="preset-name" placeholder="Preset Name">
                    <button id="save-preset">Save Current Settings</button>
                </div>
                <div class="preset-list" id="preset-list">
                    <!-- Preset buttons will be generated by JavaScript -->
                </div>
            </section>
        </main>

        <footer>
            <div class="device-info">
                <span>Device: </span>
                <span id="device-ip">Not connected</span>
            </div>
            <div class="firmware-info">
                <a href="/update" target="_blank">Firmware Update</a>
            </div>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
